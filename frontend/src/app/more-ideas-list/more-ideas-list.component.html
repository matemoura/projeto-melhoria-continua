<h2>üí° Ideias Enviadas</h2>

<div *ngIf="isLoading" class="spinner">
  Carregando ideias...
</div>

<div *ngIf="loadError" class="error-message">
  {{ loadError }}
</div>

<div *ngIf="!isLoading && ideas.length === 0" class="empty-message">
  Nenhuma ideia enviada ainda.
</div>

<ul *ngIf="!isLoading && ideas.length > 0" class="idea-list">
  <li *ngFor="let idea of ideas">
    <h3>{{ idea.nomeUsuario || 'An√¥nimo' }} ({{ idea.emailUsuario || 'E-mail n√£o informado' }})</h3>

    <p><strong>Setor:</strong> {{ idea.setor }}</p>
    <p><strong>Descri√ß√£o do Problema:</strong> {{ idea.descricaoProblema }}</p>
    <p *ngIf="idea.possiveisSolucoes"><strong>Poss√≠veis Solu√ß√µes:</strong> {{ idea.possiveisSolucoes }}</p>

    <div *ngIf="idea.impactos?.length">
      <p><strong>Impactos:</strong> {{ idea.impactos.join(', ') }}</p>
    </div>

    <p *ngIf="idea.interferencia !== undefined">
      <strong>Interfer√™ncia nas Atividades:</strong> {{ idea.interferencia }}
    </p>

    <p *ngIf="idea.expectativaMelhoria !== undefined">
      <strong>Expectativa de Melhoria:</strong> {{ idea.expectativaMelhoria }}
    </p>

    <p *ngIf="idea.nomeKaizen"><strong>Sugest√£o de Nome Kaizen:</strong> {{ idea.nomeKaizen }}</p>

    <div *ngIf="idea.imageUrl">
      <p><strong>Imagem:</strong></p>
      
      <div *ngIf="idea.imageError" class="error-message-small">{{ idea.imageError }}</div>

      <div *ngIf="!idea.imageBlobUrl && !idea.imageError" class="spinner-small">Carregando...</div>
      
      <img *ngIf="idea.imageBlobUrl" [src]="idea.imageBlobUrl" alt="Imagem da Ideia" class="idea-image" />
      
      <div class="image-actions" *ngIf="idea.imageBlobUrl">
        <a [href]="idea.imageBlobUrl" (click)="downloadImage($event, idea)" class="action-button">Baixar</a>
        <a [href]="idea.imageBlobUrl" target="_blank" rel="noopener noreferrer" class="action-button">Visualizar</a>
      </div>
    </div>

    <hr />
  </li>
</ul>
