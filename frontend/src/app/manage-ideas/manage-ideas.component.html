<div class="manage-ideas-container">
  <h2>Gerenciar Status das Ideias</h2>

  <div *ngIf="isLoading" class="feedback-message">Carregando...</div>
  <div *ngIf="error" class="feedback-message error">{{ error }}</div>

  <table *ngIf="!isLoading && !error">
    <thead>
      <tr>
        <th>Usuário</th>
        <th>Setor</th>
        <th>Título da Ideia</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngIf="!ideas || ideas.length === 0">
        <td colspan="4" style="text-align: center;">Nenhuma ideia para gerenciar.</td>
      </tr>
      <tr *ngFor="let idea of ideas">
        <td>{{ idea.nomeUsuario }}</td>
        <td>{{ idea.setor }}</td>
        <td>{{ idea.titulo }}</td>
        <td>
          <select
            [(ngModel)]="idea.newStatus"
            (change)="updateStatus(idea)">
            <option *ngFor="let status of statuses" [value]="status">
              {{ formatStatusForDisplay(status) }}
            </option>
          </select>
        </td>
      </tr>
    </tbody>
  </table>
</div>
