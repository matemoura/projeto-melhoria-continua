<div class="manage-goals-container">
  <h2>Gerenciar Metas de Ideias</h2>
  <p>Defina a quantidade de ideias esperada para cada setor em um determinado mês e ano.</p>

  <form (ngSubmit)="onSubmitGoal()" class="goal-form">
    <div class="form-grid"> 
      
      <div class="form-group">
        <label for="year">Ano</label>
        <input 
          id="year" 
          type="number" 
          [(ngModel)]="newGoal.year" 
          name="year" 
          placeholder="Digite o ano"
          required
          class="form-control">
      </div>

      <div class="form-group">
        <label for="month">Mês</label>
        <select id="month" [(ngModel)]="newGoal.month" name="month" class="form-control">
          <option *ngFor="let month of [1,2,3,4,5,6,7,8,9,10,11,12]" [value]="month">{{ month }}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="sector">Setor</label>
        <select id="sector" [(ngModel)]="newGoal.sector" name="sector" required class="form-control">
          <option value="" disabled>Selecione um setor</option>
          <option *ngFor="let sector of formSectors" [value]="sector">{{ sector }}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="goal">Meta (Nº de Ideias)</label>
        <input id="goal" type="number" [(ngModel)]="newGoal.goal" name="goal" required min="1" class="form-control">
      </div>

    </div>

    <button type="submit" [disabled]="isLoading" class="button">
      {{ isLoading ? 'Salvando...' : 'Salvar Meta' }}
    </button>
  </form>

  <div *ngIf="submitMessage" class="feedback-message" [class.error]="submitMessage.startsWith('Erro')">
    {{ submitMessage }}
  </div>
</div>
